<!DOCTYPE html >
<html >
  <head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>My Amazing Interactive Javascript Site</title>
    <script type="text/javascript" src="x3dom.js"></script>
  </head>

  <body>
    <x3d xmlns="http://www.x3dom.org/x3dom" showStat="false" showLog="false" x="0px" y="0px" width="800px" height="600px" altImg="helloX3D-alt.png">
      <scene>
        <viewpoint position='0 0 10' >
        </viewpoint>
        <scene render="true" pickmode="idBuf" dopickpass="true" sorttrans="true" frustumculling="true">
        </scene>
      </scene>
    </x3d>

    <script>
      function addShape(x, y, z) {
        var scene = document.getElementsByTagName("scene")[1];

        var shapes = ["cone", "sphere", "box"];

        var cone = document.createElement(shapes[Math.floor(Math.random() * shapes.length)]);
        var shape = document.createElement("shape");
        var appearance = document.createElement("appearance");
        var material = document.createElement("material");
        var imageTexture = document.createElement("imageTexture");
        imageTexture.setAttribute("url", '"file:///Users/daniel/projects/jscarousel/flowers5.jpg"');
        var transform = document.createElement("transform");
        var t = "" + x + " " + y +  " " + z;
        transform.setAttribute("translation", t);

        appearance.appendChild(material);
        appearance.appendChild(imageTexture);
        shape.appendChild(appearance);
        shape.appendChild(cone);
        transform.appendChild(shape);
        scene.appendChild(transform);

        console.log(t);

        return false;
      }
    </script>


    <div id="content">

        <button onclick="addShape(Math.random() * 10, Math.random() * 10, Math.random() * 10)">Add Shape</button>

    </div>

  </body>
</html>